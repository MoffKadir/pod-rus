window = {
	name = "POD_skill_relocation"
	size = { 550 500 }
	position = { 610 230 }
	layer = middle

	visible = "[And(Or(Not(IsObserver), GetPlayer.IsValid), GetPlayer.MakeScope.GetVariable('POD_open_skill_relocation').IsSet)]"
	datacontext = "[GetPlayer]"

	using = Window_Background
	using = Window_Decoration
	using = Animation_ShowHide_Standard

	state = {
		name = _show
		using = Animation_FadeIn_Quick
		
		on_start = "[GetScriptedGui('pod_relocate_base_skills_init').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
	}

	state = {
		name = _hide
		using = Animation_FadeOut_Quick
		on_start = "[GetScriptedGui('pod_relocate_base_skills_initnt').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).End)]"
	}
	
	state = {
		name = _pause

		trigger_when = "[Not(IsGamePaused)]"
		on_start = "[OnPause]"
	}
	
	vbox = {
		using = Window_Margins
		restrictparent_min = yes

		header_pattern = {
			layoutpolicy_horizontal = expanding

			blockoverride "header_text"
			{
				text = "POD_SKILL_RELOCATION_TITLE"
			}

			blockoverride "button_close"
			{
                                onclick = "[GetScriptedGui('pod_relocate_base_skills_initnt').Execute( GuiScope.SetRoot( GetPlayer.MakeScope ).End)]"
			}
		}
                vbox = {
                        layoutpolicy_horizontal = expanding
                        layoutpolicy_vertical = expanding
                        vbox = {
                                layoutpolicy_horizontal = expanding
                                layoutpolicy_vertical = expanding
                                vbox = {
                                        text_label_center = {
                                                text = "POD_SKILL_RELOCATION_POINTS"
                                                using = Font_Type_Flavor
                                                fontsize = 24
                                        }
                                        text_label_center = {
                                                text = "POD_SKILL_RELOCATION_WARNING"
                                                using = Font_Type_Flavor
                                                fontsize = 16
                                        }
                                        spacer = { size = { 0 15 } }
                                        spacing = 5
                                        pod_relocation_skill = {
                                                blockoverride "plus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)1')).AddScope('delta', MakeScopeValue('(CFixedPoint)1')).End)]"
                                                }
                                                blockoverride "title" {
                                                        raw_text = "Base [diplomacy|E]"
                                                }
                                                blockoverride "value" {
                                                        raw_text = "[GetPlayer.MakeScope.GetVariable('my_base_diplomacy').GetValue]"
                                                }
                                                blockoverride "minus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)1')).AddScope('delta', MakeScopeValue('(CFixedPoint)-1')).End)]"
                                                }
                                        }

                                        pod_relocation_skill = {
                                                blockoverride "plus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)2')).AddScope('delta', MakeScopeValue('(CFixedPoint)1')).End)]"
                                                }
                                                blockoverride "title" {
                                                        raw_text = "Base [martial|E]"
                                                }
                                                blockoverride "value" {
                                                        raw_text = "[GetPlayer.MakeScope.GetVariable('my_base_martial').GetValue]"
                                                }
                                                blockoverride "minus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)2')).AddScope('delta', MakeScopeValue('(CFixedPoint)-1')).End)]"
                                                }
                                        }

                                        pod_relocation_skill = {
                                                blockoverride "plus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)3')).AddScope('delta', MakeScopeValue('(CFixedPoint)1')).End)]"
                                                }
                                                blockoverride "title" {
                                                        raw_text = "Base [stewardship|E]"
                                                }
                                                blockoverride "value" {
                                                        raw_text = "[GetPlayer.MakeScope.GetVariable('my_base_stewardship').GetValue]"
                                                }
                                                blockoverride "minus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)3')).AddScope('delta', MakeScopeValue('(CFixedPoint)-1')).End)]"
                                                }
                                        }

                                        pod_relocation_skill = {
                                                blockoverride "plus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)4')).AddScope('delta', MakeScopeValue('(CFixedPoint)1')).End)]"
                                                }
                                                blockoverride "title" {
                                                        raw_text = "Base [intrigue|E]"
                                                }
                                                blockoverride "value" {
                                                        raw_text = "[GetPlayer.MakeScope.GetVariable('my_base_intrigue').GetValue]"
                                                }
                                                blockoverride "minus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)4')).AddScope('delta', MakeScopeValue('(CFixedPoint)-1')).End)]"
                                                }
                                        }

                                        pod_relocation_skill = {
                                                blockoverride "plus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)5')).AddScope('delta', MakeScopeValue('(CFixedPoint)1')).End)]"
                                                }
                                                blockoverride "title" {
                                                        raw_text = "Base [learning|E]"
                                                }
                                                blockoverride "value" {
                                                        raw_text = "[GetPlayer.MakeScope.GetVariable('my_base_learning').GetValue]"
                                                }
                                                blockoverride "minus" {
                                                        onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', MakeScopeValue('(CFixedPoint)5')).AddScope('delta', MakeScopeValue('(CFixedPoint)-1')).End)]"
                                                }
                                        }
                                }
                        }
                }
	}
}

types PODSkillRelocation
{
        type pod_relocation_skill = hbox
        {	
                spacing = 12
                button_standard = {
                        raw_text = "+1"
                        block "plus" {
                                onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', 'learning').AddScope('delta', MakeScopeValue('(CFixedPoint)1')).End)]"
                        }
                        size = { 60 45 }
                }
                vbox = {
                        text_single = {
                                align = center
                                block "title" {
                                        raw_text = "Base [learning|E]"
                                }
                                min_width = 125
                        }
                        text_single = {
                                block "value" {
                                        raw_text = "[GetPlayer.MakeScope.GetVariable('my_base_learning').GetValue]"
                                }
                        }
                }
                
                button_standard = {
                        raw_text = "-1"
                        block "minus" {
                                onclick = "[GetScriptedGui('pod_relocate_base_skills').Execute(GuiScope.SetRoot(GetPlayer.MakeScope).AddScope('skill', 'learning').AddScope('delta', MakeScopeValue('(CFixedPoint)-1')).End)]"
                        }
                        size = { 60 45 }
                }
        }
}